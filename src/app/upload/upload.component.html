<div class="container">
  <h2>Upload New Image</h2>
  <form (ngSubmit)="submitForm()" #uploadForm="ngForm">
    <!-- File Upload -->
    <div class="mb-3">
      <label for="imageFile" class="form-label">Select Image</label>
      <input
        type="file"
        id="imageFile"
        (change)="onFileSelected($event)"
        accept="image/*"
        required
        class="form-control"
        #imageFileInput="ngModel"
        [(ngModel)]="selectedFile"
        name="imageFile"
      />
      @if (uploadForm.submitted && !selectedFile) {
        <div class="text-danger">
          Image is required.
        </div>
      }
      @if (imagePreviewUrl) {


        <div class="mb-3">
          <label class="form-label">Image Preview:</label>
          <img
            [src]="imagePreviewUrl"
            alt="Preview"
            class="img-thumbnail"
            style="max-width: 100%; max-height: 300px;"
          />
        </div>
      }
    </div>

    <!-- Hidden Checkbox -->
    <div class="form-check mb-3">
      <input
        type="checkbox"
        class="form-check-input"
        id="isHidden"
        [(ngModel)]="isHidden"
        name="isHidden"
      />
      <label class="form-check-label" for="isHidden">Hidden</label>
    </div>

    <!-- Tags using Tagify -->
    <div class="mb-3">
      <label for="upload" class="form-label">Tags</label>
      <tagify
        [(ngModel)]="tags"
        [settings]="tagifySettings"
        [whitelist]="(whitelist$)"
        (tInput)="onInputSuggestion($event)"
        name="upload" id="upload"
      ></tagify>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">Upload</button>
  </form>
</div>
